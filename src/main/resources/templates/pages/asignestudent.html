<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="CSPG-USB" />
    <title>Asignar Estudiantes</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;700;900&display=swap"
      rel="stylesheet"
    />
    <link 
        href="https://fonts.googleapis.com/css2?family=Limelight&family=Macondo&display=swap" 
        rel="stylesheet"
    />
    <link href="https://fonts.googleapis.com/css2?family=Blinker:wght@100;200;300;400;600;700;800;900&family=Limelight&family=Macondo&display=swap" rel="stylesheet">
    <link rel="icon" th:href="@{/static/images/about-preview.ico}" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/gh/alpine-collective/alpine-magic-helpers@0.5.x/dist/component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.7.3/dist/alpine.min.js" defer></script>
  </head>


  <body>
    <div x-data>
        <button @click="$event.preventDefault(); document.querySelector('main').innerHTML = document.querySelector('#asignestudent-content').innerHTML" class="px-4 py-2 bg-blue-500 text-white rounded">
            Cargar Estudiantes
        </button>

        <main class="p-4 bg-white rounded-md shadow-lg dark:bg-darker w-full ml-30">
            <!-- Contenido inicial del main -->
        </main>

        <div id="asignestudent-content" style="display: none;">
            <h2 class="text-lg font-semibold text-gray-700 dark:text-light">Gestión de Estudiantes</h2>
            <p class="mt-2 text-sm text-gray-600 dark:text-primary-light">
                Aquí puedes ver y gestionar los datos de los estudiantes.
            </p>

            <!-- Tabla de Estudiantes -->
            <table class="min-w-full mt-4 bg-white dark:bg-darker">
                <thead>
                    <tr>
                        <th class="px-4 py-2">ID</th>
                        <th class="px-4 py-2">Nombre</th>
                        <th class="px-4 py-2">Email</th>
                        <th class="px-4 py-2">Rol</th>
                        <th class="px-4 py-2">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Iterar sobre la lista de estudiantes -->
                    <tr th:each="estudiante : ${estudiantes}">
                        <td class="border px-4 py-2" th:text="${estudiante.id}"></td>
                        <td class="border px-4 py-2" th:text="${estudiante.nombre}"></td>
                        <td class="border px-4 py-2" th:text="${estudiante.email}"></td>
                        <td class="border px-4 py-2" th:text="${estudiante.rol}"></td>
                        <td class="border px-4 py-2">
                            <button class="px-2 py-1 text-white bg-blue-500 rounded" th:onclick="'/asignarRol/' + ${estudiante.id}">Asignar Rol</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
  </body>
</html>